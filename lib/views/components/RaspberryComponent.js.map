{"version":3,"sources":["views/components/RaspberryComponent.jsx"],"names":[],"mappings":"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","file":"views/components/RaspberryComponent.js","sourcesContent":["import React, { Component, PropTypes } from 'react';\nimport shouldPureComponentUpdate from 'react-pure-render/function';\nimport Spinner from './SpinnerComponent';\nimport Actions from './raspberry/ActionsComponent';\n\nexport default class RaspberryComponent extends Component {\n    static propTypes = {\n        raspberry: PropTypes.object.isRequired,\n        changeConfig: PropTypes.func.isRequired,\n        sendAction: PropTypes.func.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    shouldComponentUpdate = shouldPureComponentUpdate;\n\n    render() {\n        const { raspberry, changeConfig, sendAction } = this.props;\n\n        let url;\n        let display;\n        if (this.state.url != null) {\n            url = this.state.url;\n        } else if (raspberry.saving) {\n            url = this.state.lastUrl;\n        } else {\n            url = raspberry.data.config.url;\n        }\n\n        if (this.state.display != null) {\n            display = this.state.display;\n        } else if (raspberry.saving) {\n            display = this.state.lastDisplay;\n        } else {\n            display = raspberry.data.config.display;\n        }\n\n        return (<div className=\"raspberry\">\n            <h2 className=\"text-title\">\n                <span className={`screen-status ${raspberry.online ? raspberry.screenState : 'offline'}`} title={raspberry.screenState === 'on' ? 'On' : 'Off'}>\n                    <span className=\"icon\" />\n                    <span className=\"status\" />\n                </span>\n                {raspberry.data.name}\n            </h2>\n            <Spinner active={raspberry.saving} />\n\n            <div className=\"status-container\">\n                <span className={`raspberry-status label ${raspberry.online ? 'success' : 'warning'}`}>\n                    {raspberry.online ? `${raspberry.ip}` : 'Offline'}\n                </span>\n            </div>\n\n            <Actions raspberries={[raspberry]} sendAction={sendAction} />\n\n            <fieldset>\n                <legend>Config</legend>\n                <div className=\"row row-responsive spaced\">\n                    <div className=\"col\" style={{ width: '100px', 'flex-basis': '100px', 'flex-grow': 0 }}>\n                        <div className=\"input select\">\n                            <select\n                                value={display || 'kweb3'}\n                                id={`raspberry-select-${raspberry.id}`}\n                                className={`has-value`}\n                                onChange={(e) => this.setState({\n                                    display: raspberry.data.config.display === e.target.value ? null : e.target.value\n                                })}\n                            >\n                                <option value=\"kweb3\">kweb3</option>\n                                <option value=\"chromium\">chromium</option>\n                                <option value=\"livestreamer\">livestreamer</option>\n                            </select>\n                            <label htmlFor={`raspberry-select-${raspberry.id}`}>Display</label>\n                        </div>\n                    </div>\n                    <div className=\"col\">\n                        <div className=\"input text\">\n                            <input\n                                id={`raspberry-url-${raspberry.id}`}\n                                type=\"url\" required\n                                className={`has-value${url ? '' : ' has-empty-value'}`}\n                                value={url}\n                                autoComplete=\"off\"\n                                onChange={(e) => this.setState({\n                                    url: raspberry.data.config.url === e.target.value ? null : e.target.value\n                                })}\n                            />\n                            <label htmlFor={`raspberry-url-${raspberry.id}`}>URL</label>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"button-container center\">\n                    <button type=\"button\" disabled={raspberry.saving || (this.state.url == null && this.state.display == null)} onClick={() => {\n                        const display = this.state.display || raspberry.data.config.display;\n                        const url = this.state.url || raspberry.data.config.url;\n                        this.setState({ url: null, lastUrl: url, display: null, lastDisplay: display });\n                        changeConfig(raspberry, { display, url });\n                    }}>Save</button>\n                </div>\n            </fieldset>\n        </div>);\n    }\n}\n"],"sourceRoot":"/"}