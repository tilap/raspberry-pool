{"version":3,"sources":["modules/raspberries/controller.server.js"],"names":[],"mappings":";;;;;;AAAA;;AACA;;IAAY,qB;;AACZ;;IAAY,kB;;AACZ;;;;;;;;;;kBAEe,wBAAc;AACzB,SADyB,iBACnB,GADmB,EACd;AACP,eAAO,IAAI,MAAJ,CAAW,qBAAX,EAAkC,EAAE,aAAa,mBAAmB,MAAnB,EAAf,EAAlC,CAAP;AACH,KAHwB;;;AAKzB;AAAA,oCAAY,WAAO,GAAP,EAAe;AACvB,kBAAM,QAAQ,MAAM,2BAAK,GAAL,EAAU,mBAAmB,cAAnB,CAAkC,IAAI,KAAJ,CAAU,EAA5C,CAAV,CAApB;AACA,gBAAI,CAAC,KAAL,EAAY;AACR,sBAAM,2BAAK,GAAL,EAAU,CAAC,AAAD,GAAG,SAAH,EAAa,uCAAb,CAAV,CAAN;AACH;AACJ,SALD;;AAAA;AAAA;AAAA;AAAA;AALyB,CAAd,C","file":"modules/raspberries/controller.server.js","sourcesContent":["import { newController } from 'alp';\nimport * as raspberriesDescriptor from './';\nimport * as raspberriesManager from './raspberriesManager.server';\nimport send from 'koa-sendfile';\n\nexport default newController({\n    index(ctx) {\n        return ctx.render(raspberriesDescriptor, { raspberries: raspberriesManager.getAll() });\n    },\n\n    screenshot: async (ctx) => {\n        const stats = await send(ctx, raspberriesManager.screenshotPath(ctx.query.id));\n        if (!stats) {\n            await send(ctx, `${__dirname}/../../../public/default-screenshot.jpg`);\n        }\n    },\n});\n"],"sourceRoot":"/"}